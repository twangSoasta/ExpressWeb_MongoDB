<!DOCTYPE html>
<html>
  <head><meta charset="utf-8"/>
    <title>显示Sensor数据</title>
    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
  </head>
<body>
   <h1>显示Sensor数据</h1>
   <ul id="results"><font color="blue">猴年吉祥如意</font>
   <li id="liid"><font color="green">whatever</font></li>
   </ul>         
<script>
var socket = io('http://localhost:8080');
  var ul = document.getElementById("results"); 
  console.log("starting");
  socket.on('news', function (json) {
    console.log("got event!",json);
	var liold = document.getElementsByTagName("li")[0]; 
    var li = document.createElement("li");
	li.innerHTML = "<strong>"+ "Sensor "+ json.id + " sensor name: "+json.name+ " sensor data: "+
		         json.value + " timestamp: "+ json.timestamp +"</strong>";
   // ul.replaceChild(li,ul.getElementsByTagName("li")[0]);
   ul.replaceChild(li,liold);
   //ul.appendChild(li);
  });
</script>
</body>
</html>

